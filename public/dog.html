<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#079292">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#079292">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#079292">
    <title>DogsHome | Publicacion</title>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link rel="icon" href="images/DogsHomeLogo-ReDesign%20(Colorified&Final).png">
    <link href="stylesheets/publications/publications-style.css" rel="stylesheet">
    <link href="stylesheets/publications/slider.css" rel="stylesheet">
    <link href="stylesheets/main/style-mainpage.css" rel="stylesheet">
    <link href="stylesheets/main/drawer-navigator-style.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="scripts/publications/get-query.js"></script>
    <script src="scripts/profile/profile-settings-functions.js"></script>
    <script src="scripts/publications/get-publication.js"></script>
    <script src="scripts/publications/add-secondary-photos.js"></script>
    <script src="scripts/publications/select-secondary-photo.js"></script>
    <script src="scripts/publications/images-swipe-functions.js"></script>
    <script src="scripts/publications/create-slider.js"></script>
    <script src="scripts/main/open-close-drawer.js"></script>
    <script src="scripts/main/basic-navigation.js"></script>
    <script src="scripts/publications/expand-menu.js"></script>
    <script src="scripts/publications/throw-error.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&family=Prompt&display=swap" rel="stylesheet">
</head>
<body onload="{getQuery(window.location.href); readUserData('barakcinthia@gmail.com')}">

    <div id="top-bar">
        <div style="align-items: center; display: flex; width: 33.333%; flex-direction: row; padding-left: 10px; box-sizing: border-box;">
            <img src="images/DogsHomeLogo-ReDesign%20(White&Final).png" alt style="cursor: pointer; height: 50px; width: 50px; margin-left: 10px" class="desktop-elements" onclick="window.location = 'index.html'">
            <span class="material-icons-outlined" id="menu-button" style="color: #fff; cursor: pointer; margin-left: 10px; user-select: none" onclick="goBack()">arrow_back</span>

            <a id="alerts-button" class="desktop-elements nav-buttons" onclick="navigateToAlerts()">Alertas</a>
            <a id="refugios-button" class="desktop-elements nav-buttons" onclick="navigateToRefs()">Refugios</a>
        </div>
        <div style="display: flex; width: 33.333%; height: 100%; align-items: center; justify-content: center;">
            <form id="search-form">
                <div id="search-input-container" style="width: 100%; height: 100%; max-width: 600px; flex-direction: row; display: flex; align-items: center; justify-content: center; background-color: white">
                    <input type="text" id="search-input" aria-label="Buscar" placeholder="Buscar en DogsHome…" maxlength="120" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" tabindex="3">
                    <span class="material-icons-outlined" style="color: #d3d3d3; cursor: pointer; user-select: none" onclick="searchPost()">search</span>
                </div>
            </form>
        </div>
        <div style="display: flex; align-items: center; width: 33.333%; flex-direction: row; padding-left: 10px; box-sizing: border-box;">
            <div class="" id="userSpace" style="flex: 1; align-items: flex-start; justify-content: flex-end"></div>
            <span class="material-icons-outlined" id="fav-button" style="color: #fff; cursor: pointer; margin: 0 2px; user-select: none" onmouseover="expandMenu()" onclick="expandMenu()">expand_more</span>
            <a class="desktop-elements nav-buttons" id="profile-name" style="margin-right: 0; padding-right: 10px" onclick="navigateToProfile">-</a>
            <img class="" id="profile-pic" src="animations/image-loading.gif" alt="profile pic" style="height: 40px; width: 40px; cursor: pointer; margin-right: 10px; user-select: none; border-radius: 80px; object-fit: cover">
        </div>
    </div>
    <div id="all-container">

        <div id="post">
            <div id="error-container" class="error-container-invisible">
                <div id="header-container" style="height: 25%; width: 100%">
                    <h1>La publicación no ha sido encontrada</h1>
                </div>
                <div id="footer-image" style="height: 75%; width: 100%; display: flex; align-items: flex-end; justify-content: center">
                    <img src="images/dog-not-found.svg" id="image-dog-not-found" height="75%" style="object-fit: contain">
                </div>
            </div>
            <div style="flex-direction: row; display: flex; width: 100%; height: 100%">
                <div id="post-images-selector">
                    <div class="secondary-image-cont-unselected" id="primary-image-cont-min" onclick="onSecondaryImageClick(this.id)">
                        <img src="" alt class="secondary-image" id="primary-image-min">
                    </div>
                </div>
                <div id="left-post">
                    <div id="post-image-container">
                        <img id="post-image" src="" alt>
                        <div id="image-count">
                            <a id="image-count-number" style="box-shadow: rgba(0, 0, 0, 0.5) 2px 30px 48px -25px;"></a>
                        </div>
                        <!--Creates the slider-->
                        <div class="slider-wrap" style="width: 100%; margin: 0; padding: 0; height: 100%">
                            <div class="slider" id="slider">
                                <!--Creates the holder-->
                                <div class="holder">

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div id="right-post">
                <div style="border-radius: 25px; border-width: 1px; border-color: #888888">
                    <a id="post-name"></a>
                    <p id="post-desc"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-app.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-auth.js"></script>
    <script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-database.js"></script>
    <script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/init.js"></script>

    <script src="scripts/publications/slider.js"></script>

    <script>
        var userDataName = localStorage.getItem('userDataName');
        var userDataSurname = localStorage.getItem('userDataSurname');
        var userDataImage = localStorage.getItem('userDataImage');

        if(userDataImage !== null){
            document.getElementById('profile-pic').src = userDataImage;
        }
        if(userDataSurname !== null && userDataName !== null){
            document.getElementById('profile-name').innerText = userDataName + ' ' + userDataSurname;
        }
    </script>

   <!-- <script>
        var gesture = {
                x: [],
                y: [],
                match: ''
            },
            tolerance = 100;
        window.addEventListener('touchstart',function(e){
            //e.preventDefault()
            for (i=0;i<e.touches.length;i++){
                var dot = document.createElement('div');
                dot.id = i
                dot.style.top = e.touches[i].clientY-25+'px'
                dot.style.left = e.touches[i].clientX-25+'px'
                document.body.appendChild(dot)
                gesture.x.push(e.touches[i].clientX)
                gesture.y.push(e.touches[i].clientY)
            }
        });
        window.addEventListener('touchmove',function(e){
            //e.preventDefault()
            for (var i=0; i<e.touches.length; i++) {
                var dot = document.getElementById(i);
                dot.style.top = e.touches[i].clientY-25+'px'
                dot.style.left = e.touches[i].clientX-25+'px'
                gesture.x.push(e.touches[i].clientX)
                gesture.y.push(e.touches[i].clientY)
            }
        });
        window.addEventListener('touchend',function(e){
            var dots = document.querySelectorAll('div'),
                xTravel = gesture.x[gesture.x.length-1] - gesture.x[0],
                yTravel = gesture.y[gesture.y.length-1] - gesture.y[0];
            if (xTravel<tolerance && xTravel>-tolerance && yTravel<-tolerance){
                gesture.match = 'Swiped Up'
            }
            if (xTravel<tolerance && xTravel>-tolerance && yTravel>tolerance){
                gesture.match = 'Swiped Down'
            }
            if (yTravel<tolerance && yTravel>-tolerance && xTravel<-tolerance){
                forceDrawerClose();
            }
            if (yTravel<tolerance && yTravel>-tolerance && xTravel>tolerance){
                forceDrawerOpen();
            }
            if (gesture.match!==''){
                //document.title = gesture.match;
            }
            setTimeout(function(){

            },500)
            gesture.x = []
            gesture.y = []
            gesture.match = xTravel = yTravel = ''
        })
    </script>
-->
</body>
</html>