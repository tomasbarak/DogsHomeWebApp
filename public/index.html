<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>DogsHome | Inicio</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="scripts/main/basic-navigation.js"></script>
    <link href="stylesheets/main/style-mainpage.css" rel="stylesheet">
    <link href="stylesheets/main/drawer-navigator-style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="icon" href="images/DogsHomeLogo-ReDesign%20(Colorified&Final).png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="stylesheets/auth-ui/sign-in-style.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
</head>
<body onload="setLoading(true)">
<script src="scripts/auth/loading-display.js"></script>
<div id="loading-visible">
    <lottie-player src="animations/dog-walking.json" background="transparent"  speed="1"  style="width: 200px; height: 200px;" loop autoplay></lottie-player>
</div>

<section id="main">
    <section id="drawer-navigator-dim" class="dim-null">
        <section id="drawer-navigator" class="drawer-closed" style="z-index: 100">

        </section>
        <section onclick="drawerAction()" style="width: 25%; height: 100%; position: absolute; top: 0; right: 0">

        </section>
    </section>

    <div id="search-bar">
        <span class="material-icons-outlined" id="menu-button" style="color: #fff; cursor: pointer; margin: 0 10px; user-select: none" onclick="drawerAction()">menu</span>

        <a id="alerts-button" class="desktop-elements nav-buttons" onclick="navigateToAlerts()">Alertas</a>
        <a id="refugios-button" class="desktop-elements nav-buttons" onclick="navigateToRefs()">Refugios</a>

        <div class="" id="separatorLeft" style="flex: 1; align-items: flex-start; justify-content: flex-end; user-select: none">
        </div>
        <form id="search-form">
            <div id="search-input-container" style="width: 100%; height: 100%; max-width: 600px; flex-direction: row; display: flex; align-items: center; justify-content: center; background-color: white">
                <input type="text" id="search-input" aria-label="Buscar" placeholder="Buscar en DogsHomeâ€¦" maxlength="120" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" tabindex="3">
                <span class="material-icons-outlined" style="color: #d3d3d3; cursor: pointer; user-select: none" onclick="searchPost()">search</span>
            </div>
        </form>
        <div class="" id="userSpace" style="flex: 1; align-items: flex-start; justify-content: flex-end">
        </div>
        <span class="material-icons-outlined" id="fav-button" style="color: #fff; cursor: pointer; margin: 0 10px; user-select: none" onclick="navigateToFav()">favorite_border</span>
        <a class="desktop-elements nav-buttons" onclick="navigateToProfile">Mi perfil</a>
        <img class="desktop-elements" src="https://www.uic.mx/posgrados/files/2018/05/default-user.png" alt="profile pic" style="height: 40px; width: 40px; cursor: pointer; margin-left: 10px; user-select: none">
    </div>
</section>

<!--Firebase Scripts -->

<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-app.js"></script>

<!-- Add Firebase products that you want to use -->
<script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-auth.js"></script>
<script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/8.6.5/firebase-firestore.js"></script>
<script src="https://dogshome.softvisiondevelop.com.ar/__/firebase/init.js"></script>

<script src="scripts/auth/sign-out.js"></script>
<script src="scripts/main/open-close-drawer.js"></script>

<script>
    function load(){
    $( document ).ready(function() {
        console.log( 'testing..' );
        var user = firebase.auth().currentUser;
        console.log(user);
    });
    }
</script>
<script>
    firebase.auth().onAuthStateChanged((user) => {
        if (user) {
            var uid = user.uid;
            // ...
        } else {
            window.location.href = "signin.html";
            // ...
        }
    });
</script>
</body>
</html>